(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[660],{102:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/MyComments",function(){return n(4142)}])},6131:function(e,t,n){"use strict";var s=n(6154),o=n(2321),i=n.n(o);let c=s.Z.create({baseURL:"".concat("https://backend.aceacad.com/"),headers:{"Content-Type":"application/json"},httpAgent:new(i()).Agent({keepAlive:!0})});t.Z=c},9164:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var s=n(5893),o=n(3299),i=n(7294),c=n(5776),a=n.n(c),l=n(5675),r=n.n(l),u=n(7677),m={src:"/_next/static/media/cross.3eceb04d.svg",height:48,width:48,blurWidth:0,blurHeight:0},d=n(6131),h=n(2449),_=e=>{var t;let{id:n,commenter:c,email:l,content:_,published_at:v}=e,x=new Date(v),{refetch:g,setRefetch:p}=(0,i.useContext)(h.Z),{data:f}=(0,o.useSession)(),j=async()=>{try{let e=await d.Z.delete("/question/comments/".concat(n,"/"));p(e=>!e),console.log(e)}catch(e){console.log(e)}};return console.log(f),(0,s.jsxs)("div",{className:a()["comment-box"],children:[(0,s.jsxs)("div",{className:a()["commenter-details"],children:[(null==c?void 0:c.image)?(0,s.jsx)(r(),{height:30,width:30,src:c.image,alt:"user image"}):(0,s.jsx)(r(),{height:30,width:30,src:u.Z,alt:"user image"}),(0,s.jsx)("p",{children:c.username}),(0,s.jsxs)("p",{children:[x.toLocaleDateString()," ",x.toLocaleTimeString()]})]}),(null==f?void 0:null===(t=f.user)||void 0===t?void 0:t.name)===c.username&&(0,s.jsx)("div",{className:a().cross,onClick:()=>j(),children:(0,s.jsx)(r(),{height:30,width:30,src:m,alt:"user image"})}),(0,s.jsx)("div",{className:a()["comment-content"],children:_})]})}},4142:function(e,t,n){"use strict";n.r(t);var s=n(5893),o=n(3299),i=n(7294),c=n(6131),a=n(9164),l=n(2770),r=n.n(l),u=n(2449);t.default=()=>{var e,t;let{refetch:n,setRefetch:l}=(0,i.useContext)(u.Z),[m,d]=(0,i.useState)(),h=(0,o.useSession)();(0,i.useEffect)(()=>{let e=async()=>{try{if("loading"!=h.status){var e,t;let n=null==h?void 0:null===(e=h.data)||void 0===e?void 0:null===(t=e.user)||void 0===t?void 0:t.email,s=await c.Z.get("question/user-comments/".concat(n)),o=s.data;d(o)}}catch(e){console.log(e)}};e()},[null==h?void 0:null===(e=h.data)||void 0===e?void 0:null===(t=e.user)||void 0===t?void 0:t.email,h.status,n]),console.log(h);let _=(()=>{let e={};return null==m||m.forEach(t=>{let n=t.question.id.toString();e[n]||(e[n]=[]),e[n].push(t)}),e})();return(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:r().head,children:"Below are all your comments "}),(0,s.jsx)("div",{children:Object.keys(_).map(e=>{let t=null==m?void 0:m.find(t=>t.question.id===parseInt(e)),n=null==t?void 0:t.question.question_text,o=_[e];return(0,s.jsxs)("div",{className:r().question,children:[(0,s.jsxs)("p",{children:["Q. ",n]}),o.map((e,t)=>(0,s.jsx)(a.Z,{id:e.id,commenter:e.commenter,email:e.email,content:e.content,published_at:e.published_at},t))]},e)})})]})}},5776:function(e){e.exports={"comment-box":"Comment_comment-box__aosbT","commenter-details":"Comment_commenter-details__0KPid","comment-content":"Comment_comment-content__YHumL",cross:"Comment_cross__xthmO"}},2770:function(e){e.exports={question:"mycomments_question__qaFGj",head:"mycomments_head__oIseH"}}},function(e){e.O(0,[321,774,888,179],function(){return e(e.s=102)}),_N_E=e.O()}]);