(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[863],{7270:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/upload",function(){return n(3158)}])},8797:function(e,t,n){"use strict";var a=n(5893);n(7294);var l=n(1163),o=n(3118),i=n.n(o);t.Z=()=>{let e=(0,l.useRouter)();return(0,a.jsx)("div",{children:(0,a.jsx)("button",{title:"Go back",type:"button",onClick:()=>e.back(),className:"".concat(i()["back-button"]),children:(0,a.jsx)("div",{className:"".concat(i()["back-icon"]),children:"â€¹"})})})}},3158:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return x},default:function(){return m}});var a=n(5893),l=n(3299),o=n(7294),i=n(178),s=n.n(i),c=n(6154);n(8594);var r=n(7617),u=e=>{var t;let{user:n}=e,[l,i]=(0,o.useState)(""),[u,d]=(0,o.useState)([]),[p,x]=(0,o.useState)([]),[m,h]=(0,o.useState)([]),[_,v]=(0,o.useState)(!1),[j,f]=(0,o.useState)(""),[b,y]=(0,o.useState)([]),[g,k]=(0,o.useState)([]),[C,N]=(0,o.useState)(!1),[S,w]=(0,o.useState)(""),[T,E]=(0,o.useState)({question_text:"",question_text_latex:"",video_solution_url:"",text_solution:"",text_solution_latex:"",tags:m,examinations:g,category:"",concept:null}),[O,P]=(0,o.useState)({id:-1,title:"",description:""}),[q,M]=(0,o.useState)({concept:null,title:"",youtube_url:"",thumbnail_url:""}),U=e=>{h(t=>{let n=t.some(t=>t.name===e.name);return n?t.filter(t=>t.name!==e.name):[e,...t]})},B=()=>{v(!_),f("")},L=()=>{let e=j.trim();if(""!==e&&!p.some(t=>t.name===e)){let t={name:e};x([...p,t]),U(t)}B()},R=async()=>{try{let e=await c.Z.get("".concat("https://backend.aceacad.com","question/tags/"));x(e.data)}catch(e){console.error(e)}},F=e=>{k(t=>{let n=t.some(t=>t.name===e.name);return n?t.filter(t=>t.name!==e.name):[e,...t]})},W=()=>{N(!C),w("")},D=()=>{let e=S.trim();if(""!==e&&!b.some(t=>t.name===e)){let t={name:e};y([...b,t]),F(t)}W()},Z=async()=>{try{let e=await c.Z.get("".concat("https://backend.aceacad.com","question/examinations/"));y(e.data)}catch(e){console.error(e)}};(0,o.useEffect)(()=>{I(),R(),Z()},[]),(0,o.useEffect)(()=>{E(e=>({...e,tags:m,examinations:g})),console.log(g),console.log(m)},[m,g]);let I=async()=>{try{let e=await c.Z.get("".concat("https://backend.aceacad.com","concepts/"));d(e.data)}catch(e){console.error(e)}},V=async e=>{if(e.preventDefault(),"question"===l)try{await c.Z.post("".concat("https://backend.aceacad.com","question/add/"),{...T,author:null==n?void 0:n.id}),E({question_text:"",question_text_latex:"",video_solution_url:"",tags:[],examinations:[],text_solution:"",text_solution_latex:"",category:"",concept:null}),h([]),k([])}catch(e){console.error(e)}else if("concept"===l)try{await c.Z.post("".concat("https://backend.aceacad.com","concepts/"),O),P({id:-1,title:"",description:""}),I()}catch(e){console.error(e)}else if("video"===l)try{await c.Z.post("".concat("https://backend.aceacad.com","concepts/").concat(q.concept,"/videos/"),{...q,author:null==n?void 0:n.id}),M({concept:null,title:"",youtube_url:"",thumbnail_url:""})}catch(e){console.error(e)}},H=e=>{let{name:t,value:n}=e.target;"question"===l?E(e=>({...e,[t]:n})):"concept"===l?P(e=>({...e,[t]:n})):"video"===l&&M(e=>({...e,[t]:n}))};function Q(e){let t=e.replace(/\n/g,"$\\\\$"),n=t.split("$"),a=n.map((e,t)=>t%2==0?"\\text{".concat(e,"}"):e);return a.join("")}return(0,a.jsxs)("div",{className:s().container,children:[(0,a.jsx)("h1",{children:"Upload Form"}),(0,a.jsxs)("form",{onSubmit:V,children:[(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Select upload type:",(0,a.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:s().select,children:[(0,a.jsx)("option",{value:"",children:"Select"}),(0,a.jsx)("option",{value:"question",children:"Question"}),(0,a.jsx)("option",{value:"concept",children:"Concept"}),(0,a.jsx)("option",{value:"video",children:"Video for Concept"})]})]})}),"question"===l&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Question Form"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Question Text:",(0,a.jsx)("input",{type:"text",name:"question_text",value:T.question_text,onChange:H,className:s().input})]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{children:["Question Text Latex:",(0,a.jsx)("textarea",{name:"question_text_latex",value:T.question_text_latex,onChange:H,className:s().textarea})]}),(0,a.jsx)("div",{className:s().latex,children:(0,a.jsx)(r.BlockMath,{math:Q(T.question_text_latex)})})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Video Solution URL:",(0,a.jsx)("input",{type:"text",name:"video_solution_url",value:T.video_solution_url,onChange:H,className:s().input})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Text Solution:",(0,a.jsx)("textarea",{name:"text_solution",value:T.text_solution,onChange:H,className:s().textarea})]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{children:["Text Solution (Latex):",(0,a.jsx)("textarea",{name:"text_solution_latex",value:T.text_solution_latex,onChange:H,className:s().textarea})]}),(0,a.jsx)("div",{className:s().latex,children:(0,a.jsx)(r.BlockMath,{math:Q(T.text_solution_latex)})})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Category:",(0,a.jsxs)("select",{name:"category",value:T.category,onChange:H,className:s().select,children:[(0,a.jsx)("option",{value:"",selected:!0,children:"Select Category"}),(0,a.jsx)("option",{value:"G",children:"General User"}),(0,a.jsx)("option",{value:"P",children:"Premium User"})]})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Concept:",(0,a.jsxs)("select",{name:"concept",value:T.concept||"",onChange:H,className:s().select,children:[(0,a.jsx)("option",{value:"",children:"Select Concept"}),u.map(e=>(0,a.jsx)("option",{value:e.id,children:e.title},e.id))]})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Tags"}),(0,a.jsxs)("div",{className:s()["item-element"],children:[null==p?void 0:p.map(e=>(0,a.jsx)("div",{className:"".concat(s()["item-individual-element"]," ").concat(m.some(t=>t.name===e.name)?s()["selected-item"]:""),onClick:()=>U(e),children:e.name},e.name)),_?(0,a.jsx)("input",{type:"text",value:j,onChange:e=>f(e.target.value),onKeyDown:e=>{"Enter"===e.key&&L()},className:s()["new-item-input"],autoFocus:!0}):(0,a.jsx)("div",{className:s()["add-new-item-button"],onClick:B,children:"+"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Examinations"}),(0,a.jsxs)("div",{className:s()["item-element"],children:[null==b?void 0:b.map(e=>(0,a.jsx)("div",{className:"".concat(s()["item-individual-element"]," ").concat(g.some(t=>t.name===e.name)?s()["selected-item"]:""),onClick:()=>F(e),children:e.name},e.name)),C?(0,a.jsx)("input",{type:"text",value:S,onChange:e=>w(e.target.value),onKeyDown:e=>{"Enter"===e.key&&D()},className:s()["new-item-input"],autoFocus:!0}):(0,a.jsx)("div",{className:s()["add-new-item-button"],onClick:W,children:"+"})]})]})]}),"concept"===l&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Concept Form"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Title:",(0,a.jsx)("input",{type:"text",name:"title",value:O.title,onChange:H,className:s().input})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Description:",(0,a.jsx)("textarea",{name:"description",value:O.description,onChange:H,className:s().textarea})]})})]}),"video"===l&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Video Form"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Concept:",(0,a.jsxs)("select",{name:"concept",value:null!==(t=q.concept)&&void 0!==t?t:"",onChange:H,className:s().select,children:[(0,a.jsx)("option",{value:"",selected:!0,children:"Select Concept"}),u.map(e=>(0,a.jsx)("option",{value:e.id,children:e.title},e.id))]})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Title:",(0,a.jsx)("input",{type:"text",name:"title",value:q.title,onChange:H,className:s().input})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["YouTube URL:",(0,a.jsx)("input",{type:"text",name:"youtube_url",value:q.youtube_url,onChange:H,className:s().input})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Thumbnail URL:",(0,a.jsx)("input",{type:"text",name:"thumbnail_url",value:q.thumbnail_url,onChange:H,className:s().input})]})})]}),(0,a.jsx)("button",{type:"submit",children:"Submit"})]})]})},d=n(9332),p=n(8797),x=!0,m=e=>{let{user:t}=e;console.log(t);let n=(0,l.useSession)(),i=(0,d.useRouter)();return(0,o.useEffect)(()=>{console.log(null==n?void 0:n.status),(null==n?void 0:n.status)!=="authenticated"&&i.push("/")},[null==n?void 0:n.status,i]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{}),(0,a.jsx)(u,{user:t}),";"]})}},8594:function(){},3118:function(e){e.exports={"back-button":"BackButton_back-button__uXnvV","back-icon":"BackButton_back-icon__N2MjL"}},178:function(e){e.exports={container:"Upload_container__37BOW",error:"Upload_error__ny3NB",base:"Upload_base__H_WnM","item-element":"Upload_item-element__evEKB","item-individual-element":"Upload_item-individual-element__gzJSV","selected-item":"Upload_selected-item__5WeEO",latex:"Upload_latex__Yf3sp","new-item-input":"Upload_new-item-input__Pr3LF","add-new-item-button":"Upload_add-new-item-button__hF9Yu"}},2703:function(e,t,n){"use strict";var a=n(414);function l(){}function o(){}o.resetWarningCache=l,e.exports=function(){function e(e,t,n,l,o,i){if(i!==a){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:l};return n.PropTypes=n,n}},5697:function(e,t,n){e.exports=n(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7617:function(e,t,n){var a,l,o;o=function(e,t,n,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{BlockMath:()=>u,InlineMath:()=>d}),t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=l?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(t),n=l(n),a=l(a);let i=(e,{displayMode:l})=>{let o=({children:n,errorColor:o,math:i,renderError:s})=>{let c=null!=i?i:n,{html:r,error:u}=(0,t.useMemo)(()=>{try{let e=a.default.renderToString(c,{displayMode:l,errorColor:o,throwOnError:!!s});return{html:e,error:void 0}}catch(e){if(e instanceof a.default.ParseError||e instanceof TypeError)return{error:e};throw e}},[c,o,s]);return u?s?s(u):t.default.createElement(e,{html:`${u.message}`}):t.default.createElement(e,{html:r})};return o.propTypes={children:n.default.string,errorColor:n.default.string,math:n.default.string,renderError:n.default.func},o},s={html:n.default.string.isRequired},c=({html:e})=>t.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:e}});c.propTypes=s;let r=({html:e})=>t.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:e}});r.propTypes=s;let u=i(c,{displayMode:!0}),d=i(r,{displayMode:!1})},"object"==typeof e.exports?o(t,n(7294),n(5697),n(69)):(a=[t,n(7294),n(5697),n(69)],void 0===(l=o.apply(t,a))||(e.exports=l))}},function(e){e.O(0,[573,850,774,888,179],function(){return e(e.s=7270)}),_N_E=e.O()}]);